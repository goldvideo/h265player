<!Doctype html>
<head>
<meta http-equiv=Content-Type content="text/html;charset=utf-8">
<meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
<!-- <meta content=always name=referrer> -->
<link rel="shortcut icon" href=/favicon.ico type=image/x-icon> <title>H.265在线播放器DEMO</title>
<link rel="stylesheet" href="../dist/goldplay-h265.css">
<script src="../dist/goldplay-h265-sdk.js"></script>
<style>
  .play-container {
    width: 800px;
    height: 600px;
    /* background-color: #000; */
    margin: 20px 0 0 100px;
    float:left;
  }

  .inline {
    display: inline-block;
    width: 50px;
  }
</style>
</head>

<body>
  <div id="PlayerWrapper">
    <h3>H.265 Player <b>在线播放器Demo1</b><em class="demo1" id="Demo1">DEMO</em></h3>
    <div class="play-container"></div>
    <!-- <input type="button" id="change" value=change/> -->
    <!-- <a href="http://www.baidu.com">baidu.com</a> -->
  </div>
  <br clear="all">
  <br>
  <script>
    (function (win, doc) {
      const Config = {
        get basePath() {
          let path = win.location.origin
          let pathname = win.location.pathname
          let demoIdx = pathname.lastIndexOf('/demo/')
          return path + pathname.substr(0, demoIdx)
        },
        get buildPath() {
          return this.basePath + '/dist/'
        },
        get libPath() {
          return this.buildPath + 'lib/'
        },
        get src() {
          return this.basePath + '/data/video2/playlist.m3u8'
        }
      }
      let el = doc.querySelector('.play-container')
      let player = new GoldPlay(el, {
        poster: 'http://lf3-static.bytednsdoc.com/obj/eden-cn/nupenuvpxnuvo/xgplayer_doc/poster.jpg',
        // sourceURL: Config.src,
        sourceURL: 'http://localhost/git/goldvideo/h265player/data/video1/playlist.m3u8',
        type: 'HLS',
        libPath: Config.libPath,
        playBackRate: 1,
        autoPlay: false,
        // debug: true,
        rateList: [
          {"url":"http://localhost:9011/gitwork/goldplay/h265player/data/video1/playlist.m3u8","id":51,"name":"720P","value":"720"},
           {"url":"http://localhost:9011/gitwork/goldplay/h265player/data/video3/playlist.m3u8","id":51,"name":"高清","value":"600"}
        ]
      })
      document.querySelector('#change').onclick = function(){
        player.changeSrc('http://localhost:9011/gitwork/goldplay/h265player/data/video1/playlist.m3u8')
      }
      // player.destroy()
    })(window, document)
  </script>
</body>

</html>
